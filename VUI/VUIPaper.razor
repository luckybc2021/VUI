@typeparam TPiece
@inherits VUIElement

<div @onclick="InternalOnClicked"
     @onmouseenter="InternalOnMouseEnter"
     @onmouseleave="InternalOnMouseLeave"
     @onmouseup="InternalOnMouseUp"
     @onmousedown="InternalOnMouseDown"
     style="background-color:@BackgroundColor;
            background-image:@BackgroundImage;
            color:@Color;
            border:@Border;
            display:@Display;
            width:@Width;
            height:@Height;
            position:@Position;
            vertical-align:@VerticalAlign;
            cursor:@Cursor;
            justify-content:@JustifyContent;
            align-items:@AlignItems;
            margin:@Margin;
            z-index:@Z_Index;
            top:@Top
            left:@Left;
            bottom:@Bottom;
            right:@Right;

            transform:@Transform;

            flex-flow:@FlexFlow;
            flex-direction:@FlexFlow;
            overflow:@OverFlow;
            padding:@Padding;

            overflow:@OverFlow;
            user-select:none;">

    @if (Pieces == null) return;


    @switch(view[0])
    {
        case "single":

            if(CurrentPage != null &&
               Pieces.Count > 0 && pieceNumber != -1)
            {
                <VUISide Piece=Pieces[pieceNumber]>
                    @CurrentPage(Pieces[pieceNumber])
                </VUISide>
            }

            break;

        case "dual":

            if (Page1 != null &&
                Pieces.Count >= 1 && pieceNumber != -1)
            {
                <VUISide View=@view[1] Piece=Pieces[pieceNumber]>
                    @Page1(Pieces[pieceNumber])
                </VUISide>
            }


            if (Page2 != null &&
                Pieces.Count >= 2 && nextPieceNumber != -1)
            {
                <VUISide View=@view[2] Piece=Pieces[pieceNumber]>
                    @Page2(Pieces[pieceNumber])
                </VUISide>
            }
            
            break;
    }
    
</div>

<style>
    
    .horizontal-custom1 {
        display: inline-block;
        position: relative;
        width: @widthMaxContent1;
        height: 100vh;
    }

    .horizontal-custom2 {
        display: inline-block;
        position: relative;
        width: @widthMaxContent2;
        height: 100vh;
    }

    .vertical-custom {
        display: block;
        position: relative;
        Width: 100vw;
        Height: @heightMaxContent1;
    }

    .vertical-custom {
        display: block;
        position: relative;
        Width: 100vw;
        Height: @heightMaxContent2;
    }
    
    .horizontal-max
    {
        display: inline-block;
        position:relative;
        width: max-content;
        Height: 100vw;
    }

    .horizontal-normal {
        display:inline-block; 
        position:relative;
        width: 100vw;
        Height: 100vw;
        flex:none;
    }

    .horizontal-fit {
        display: inline-block;
        position: relative;
        Width: 50%;
        Height: 100vw;
    }

    .vertical-max
    {
        display: block;
        position:relative;
        Width: 100vw;
        Height: max-content;
    }

    .vertical-normal {
        display: inline-block;
        position: relative;
        width: 100vw;
        Height: 100vh;
    }

    .vertical-fit {
        display: block;
        position: relative;
        Width: 100vw;
        Height: 50%;
    }

    .appearance
    {
        background-color: @BackgroundColor;
    }
</style>
